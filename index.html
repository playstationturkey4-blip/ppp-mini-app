<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Penalty Career</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: linear-gradient(#87ceeb 0%, #cfefff 45%, #7ec850 45%);
  color: #fff;
}

.screen {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.card {
  width: 100%;
  max-width: 420px;
  background: rgba(15, 122, 46, 0.95);
  border-radius: 20px;
  padding: 18px;
  box-shadow: 0 30px 60px rgba(0,0,0,0.45);
}

.title {
  text-align: center;
  font-weight: 800;
  font-size: 22px;
}

.stats {
  text-align: center;
  font-size: 14px;
  margin: 6px 0 10px;
}

.stadium {
  position: relative;
  width: 100%;
  height: 230px;
  background: linear-gradient(#c0c0c0 0%, #d9d9d9 35%, #1e8f3a 35%);
  border-radius: 14px;
  overflow: hidden;
  margin-bottom: 10px;
  cursor: crosshair;
}

.goal {
  position: absolute;
  top: 42px;
  left: 50%;
  transform: translateX(-50%);
  width: 200px;
  height: 78px;
  border: 4px solid #fff;
  border-bottom: none;
}

.keeper {
  position: absolute;
  top: 70px;
  left: 50%;
  width: 24px;
  height: 36px;
  background: #ffd700;
  border-radius: 6px;
  transform: translateX(-50%);
  transition: transform 0.4s ease;
}
.keeper::before {
  content: "";
  position: absolute;
  top: -14px;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 16px;
  background: #ffd700;
  border-radius: 50%;
}

.ball {
  position: absolute;
  bottom: 20px;
  left: 50%;
  width: 22px;
  height: 22px;
  background: #fff;
  border: 3px solid #000;
  border-radius: 50%;
  transform: translateX(-50%);
  transition: transform 0.5s ease;
}

.aim {
  position: absolute;
  width: 14px;
  height: 14px;
  border: 2px solid red;
  border-radius: 50%;
  pointer-events: none;
  display: none;
}

/* –®–ö–ê–õ–ê –°–ò–õ–´ */
.power-bar {
  height: 12px;
  background: #333;
  border-radius: 6px;
  overflow: hidden;
  margin-top: 10px;
}

.power-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(
    90deg,
    red 0%,
    orange 40%,
    lime 60%,
    orange 80%,
    red 100%
  );
}

.hint {
  text-align: center;
  font-size: 13px;
  margin-top: 6px;
}

.result {
  text-align: center;
  font-size: 15px;
  font-weight: 700;
  min-height: 22px;
}
</style>
</head>

<body>
<div class="screen">
  <div class="card">

    <div class="title">–ö–∞—Ä—å–µ—Ä–∞ ¬∑ –ü–µ–Ω–∞–ª—å—Ç–∏</div>
    <div class="stats" id="stats">–£–¥–∞—Ä—ã: 0 / 5 ¬∑ –ì–æ–ª—ã: 0 ¬∑ –†–µ–π—Ç–∏–Ω–≥: 60</div>

    <div class="stadium" id="stadium">
      <div class="goal" id="goal"></div>
      <div class="keeper" id="keeper"></div>
      <div class="ball" id="ball"></div>
      <div class="aim" id="aim"></div>
    </div>

    <div class="power-bar">
      <div class="power-fill" id="powerFill"></div>
    </div>
    <div class="hint">–£–¥–µ—Ä–∂–∏–≤–∞–π ‚Üí –æ—Ç–ø—É—Å—Ç–∏ –≤ –∑–µ–ª—ë–Ω–æ–π –∑–æ–Ω–µ</div>

    <div class="result" id="result"></div>

  </div>
</div>

<script>
let shots = 0;
let goals = 0;
let rating = 60;
const maxShots = 5;

let power = 0;
let powerInterval = null;
let charging = false;
let canShoot = true;

const stadium = document.getElementById('stadium');
const ball = document.getElementById('ball');
const keeper = document.getElementById('keeper');
const aim = document.getElementById('aim');
const powerFill = document.getElementById('powerFill');
const result = document.getElementById('result');
const stats = document.getElementById('stats');

/* –ø—Ä–∏—Ü–µ–ª */
stadium.addEventListener('mousemove', e => {
  if (!canShoot) return;
  const r = stadium.getBoundingClientRect();
  aim.style.left = e.clientX - r.left - 7 + 'px';
  aim.style.top = e.clientY - r.top - 7 + 'px';
  aim.style.display = 'block';
});

/* –Ω–∞—á–∞–ª–æ –∑–∞—Ä—è–¥–∫–∏ */
stadium.addEventListener('mousedown', () => {
  if (!canShoot) return;
  charging = true;
  power = 0;
  powerFill.style.width = '0%';

  powerInterval = setInterval(() => {
    power += 2;
    if (power > 100) power = 100;
    powerFill.style.width = power + '%';
  }, 30);
});

/* —É–¥–∞—Ä */
stadium.addEventListener('mouseup', e => {
  if (!charging || !canShoot) return;
  clearInterval(powerInterval);
  charging = false;
  canShoot = false;
  shots++;

  const perfect = power >= 55 && power <= 65;
  const saveChance = perfect ? 0.25 : power < 40 ? 0.6 : 0.4;

  const r = stadium.getBoundingClientRect();
  const x = e.clientX - r.left;
  const y = e.clientY - r.top;

  ball.style.transform =
    `translateX(calc(-50% + ${x - r.width / 2}px))
     translateY(${y - (r.height - 20)}px)`;

  if (Math.random() < saveChance) {
    keeper.style.transform =
      `translateX(calc(-50% + ${x - r.width / 2}px))`;
  }

  setTimeout(() => {
    if (Math.random() < saveChance) {
      result.innerText = '‚ùå –°–ï–ô–í';
    } else {
      goals++;
      rating += perfect ? 2 : 1;
      result.innerText = perfect ? 'üî• –ò–î–ï–ê–õ–¨–ù–´–ô –ì–û–õ!' : '‚öΩ –ì–û–õ';
    }
    updateStats();
    resetShot();
  }, 600);
});

function updateStats() {
  stats.innerText =
    `–£–¥–∞—Ä—ã: ${shots} / ${maxShots} ¬∑ –ì–æ–ª—ã: ${goals} ¬∑ –†–µ–π—Ç–∏–Ω–≥: ${rating}`;
}

function resetShot() {
  setTimeout(() => {
    ball.style.transform = 'translateX(-50%)';
    keeper.style.transform = 'translateX(-50%)';
    powerFill.style.width = '0%';
    canShoot = true;
    aim.style.display = 'none';
  }, 700);
}
</script>
</body>
</html>
